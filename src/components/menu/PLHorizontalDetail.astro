---
import type { Playlist } from '@/utils/types'

type Props = {
	playlist: Playlist
}

const { playlist } = Astro.props
const { id, cover, title, artists, color } = playlist

const artistString = artists.join(', ')

/* Intl.ListFormat */
---

<a
	href={`/playlist/${id}`}
	class="playlist-item flex relative p-2 overflow-hidden items-center gap-3 rounded-md hover:bg-highlight"
>
	<picture class="h-12 w-12 flex-none">
		<img
			src={cover}
			alt={`Cover of ${title} by ${artistString}`}
			class="object-cover w-full h-full rounded"
		/>
	</picture>

	<div class="flex flex-auto flex-col gap-[2px] items-start">
		<p class="text-base hover:text-bright-accent font-normal line-clamp-1">
			{title}
		</p>

		<span class="flex gap-2 min-w-0 text-sm text-subdued">
      <p>
        {`Playlist â€¢ ${artistString}`}
      </p>
    </span>
	</div>
</a>
